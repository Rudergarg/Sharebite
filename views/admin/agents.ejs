<main>
	<%- include('../partials/adminSidebar') %>

	<div id="main-wrapper">
		
		<!-- Top Bar -->
		<div class="bg-white shadow-sm p-3 d-flex align-items-center">
			<span class="me-3" id="sidebar-toggler-btn">
				<i class="fas fa-bars"></i>
			</span>
			<h5 class="m-0 color-theme">Admin Dashboard</h5>
		</div>

		<!-- Table Section -->
		<div class="col col-sm-10 col-12 m-auto my-4" style="max-height: 75%; overflow: auto;">
			
			<table class="table table-bordered table-hover bg-white">
				<thead class="table-light">
					<tr>
						<th>#</th>
						<th>Agent Name</th>
						<th>Email</th>
						<th>Phone</th>
						<th>Joined On</th>
					</tr>
				</thead>

				<tbody>
					<% if(agents.length === 0) { %>
						<tr>
							<td colspan="5" class="text-center py-4 text-muted">
								No agents have registered yet.
							</td>
						</tr>
					<% } else { %>

						<% for(let i = 0; i < agents.length; i++) { %>
							<tr>
								<th scope="row"><%= i + 1 %></th>
								<td><%= agents[i].firstName + " " + agents[i].lastName %></td>
								<td><%= agents[i].email %></td>
								<td><%= agents[i].phone %></td>
								<td>
									<%= agents[i].joinedTime.toLocaleString("en-IN", { 
										dateStyle: "medium", 
										timeStyle: "short"
									}) %>
								</td>
							</tr>
						<% } %>

					<% } %>
				</tbody>
			</table>

		</div>

	</div>
</main>
