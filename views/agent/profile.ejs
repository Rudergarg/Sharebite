<main class="bg-light min-vh-100">
	<%- include('../partials/agentSidebar') %>

	<div id="main-wrapper" class="p-3">

		<!-- Header -->
		<div class="bg-white shadow-sm p-3 rounded d-flex align-items-center">
			<span class="me-3" id="sidebar-toggler-btn">
				<i class="fas fa-bars fs-5"></i>
			</span>
			<h5 class="m-0 text-primary fw-bold">Profile</h5>
		</div>

		<!-- Profile Card -->
		<form action="/agent/profile?_method=PUT" method="POST"
			  class="col-sm-8 col-12 border-0 m-3 mx-auto p-4 bg-white rounded shadow-sm">

			<h5 class="fw-bold text-secondary mb-3">
				<i class="fas fa-user-circle me-2"></i> Personal Information
			</h5>

			<div class="row">

				<!-- First Name -->
				<div class="col-sm-6 mb-4">
					<label for="first-name" class="form-label">
						<i class="fas fa-user me-1 text-primary"></i> First Name
					</label>
					<input type="text" name="agent[firstName]" id="first-name" 
						   class="form-control form-control-lg"
						   placeholder="Enter first name"
						   value="<%= currentUser.firstName %>" required>
				</div>

				<!-- Last Name -->
				<div class="col-sm-6 mb-4">
					<label for="last-name" class="form-label">
						<i class="fas fa-user me-1 text-primary"></i> Last Name
					</label>
					<input type="text" name="agent[lastName]" id="last-name" 
						   class="form-control form-control-lg"
						   placeholder="Enter last name"
						   value="<%= currentUser.lastName %>" required>
				</div>
			</div>

			<!-- Email -->
			<div class="mb-4">
				<label for="email" class="form-label">
					<i class="fas fa-envelope me-1 text-primary"></i> Email
				</label>
				<input type="email" id="email" class="form-control form-control-lg bg-light"
					   value="<%= currentUser.email %>" disabled>
			</div>

			<!-- Gender -->
			<div class="mb-4">
				<label class="form-label mb-2">
					<i class="fas fa-venus-mars me-1 text-primary"></i> Gender
				</label>
				<div>
					<div class="form-check form-check-inline">
						<input class="form-check-input" type="radio" name="agent[gender]" id="male" 
							value="male" <% if(currentUser.gender=='male'){%> checked <%}%> >
						<label class="form-check-label" for="male">Male</label>
					</div>

					<div class="form-check form-check-inline">
						<input class="form-check-input" type="radio" name="agent[gender]" id="female" 
							value="female" <% if(currentUser.gender=='female'){%> checked <%}%> >
						<label class="form-check-label" for="female">Female</label>
					</div>
				</div>
			</div>

			<!-- Address -->
			<div class="mb-4">
				<label for="address" class="form-label">
					<i class="fas fa-map-marker-alt me-1 text-primary"></i> Address
				</label>
				<input type="text" name="agent[address]" id="address"
					   class="form-control form-control-lg"
					   placeholder="Enter address"
					   value="<%= currentUser.address %>">
			</div>

			<!-- Phone -->
			<div class="mb-4">
				<label for="phone" class="form-label">
					<i class="fas fa-phone-alt me-1 text-primary"></i> Phone
				</label>
				<input type="number" name="agent[phone]" id="phone"
					   class="form-control form-control-lg"
					   placeholder="Enter phone"
					   value="<%= currentUser.phone %>">
			</div>

			<!-- Update Button -->
			<button type="submit" 
					class="btn btn-primary w-50 d-block mx-auto mt-3 py-2 fw-semibold fs-6">
				<i class="fas fa-save me-1"></i> Update Profile
			</button>

		</form>

	</div>
</main>

<style>
	.form-control-lg {
		padding: 10px 14px;
		font-size: 1rem;
		border-radius: 8px;
	}
	.form-control-lg:focus {
		border-color: #0d6efd;
		box-shadow: 0 0 4px rgba(13, 110, 253, 0.3);
	}
	button.btn-primary:hover {
		background-color: #0b5ed7 !important;
	}
</style>
